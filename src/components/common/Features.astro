---
import { type FeaturesConfig } from '@/types/features-config';
import { iconMap } from '@/utils/icon-map';
import { Icon } from 'astro-icon/components';

type Props = {
	featuresConfig: FeaturesConfig;
}

const { featuresConfig } = Astro.props;
---

<section id="features" class="relative bg-white px-4 py-20 sm:px-6 lg:px-8">
  <div
    class="border-mono-lighter absolute top-8 left-8 h-16 w-16 border-t-2 border-l-2"
  >
  </div>
  <div
    class="border-mono-lighter absolute top-8 right-8 h-16 w-16 border-t-2 border-r-2"
  >
  </div>

  <div class="mx-auto max-w-7xl">
    <div class="scroll-fade-up mx-auto mb-16 max-w-3xl text-center">
      <h2 class="text-mono-black mb-4 text-4xl font-bold sm:text-5xl">
        {featuresConfig.title}
      </h2>
      <p class="text-mono-dark text-xl">
        {featuresConfig.subtitle}
      </p>
    </div>

    <div class="grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3">
      {
        featuresConfig.items.map((feature, index) => (
          <div
            class={`group ${index % 2 === 0 ? 'scroll-fade-left' : 'scroll-fade-right'} border-mono-lighter rounded-xl border p-8 stagger-${(index % 9) + 1}`}
          >
            { feature.icon &&
              <div class="feature-icon bg-mono-black mb-6 flex h-14 w-14 items-center justify-center rounded-lg text-white">
                <Icon name={iconMap[feature.icon]} class="h-7 w-7" />
              </div> }
            <h3 class="text-mono-black mb-3 text-xl font-semibold">
              {feature.title}
            </h3>
            <p class="text-mono-dark leading-relaxed">{feature.description}</p>
          </div>
        ))
      }
    </div>
  </div>
</section>
