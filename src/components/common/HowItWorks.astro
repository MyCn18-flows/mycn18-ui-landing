---
import type { HowItWorksConfig } from '@/types/how-it-works-config';
import { Icon } from 'astro-icon/components';

type Props = {
	howItWorksConfig: HowItWorksConfig;
};

const { howItWorksConfig } = Astro.props;
---

<section
  id="how-it-works"
  class="border-mono-black bg-mono-lighter relative border-t-2 px-4 py-20 sm:px-6 lg:px-8"
>
  <div
    class="border-mono-lighter absolute bottom-8 left-8 h-16 w-16 border-b-2 border-l-2"
  >
  </div>
  <div
    class="border-mono-lighter absolute right-8 bottom-8 h-16 w-16 border-r-2 border-b-2"
  >
  </div>

  <div class="mx-auto max-w-7xl">
    <div class="scroll-fade-down mx-auto mb-16 max-w-3xl text-center">
      <h2 class="text-mono-black mb-4 text-4xl font-bold sm:text-5xl">
        {howItWorksConfig.title}
      </h2>
      <p class="text-mono-dark text-xl">
        {howItWorksConfig.subtitle}
      </p>
    </div>

    <div class="grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-4">
      {
        howItWorksConfig.steps.map((step, index) => (
          <div class="relative">
            <div
              class={`scroll-fade-${index % 2 === 0 ? 'left' : 'right'} border-mono-lighter rounded-xl border bg-white p-8 stagger-${index + 1}`}
            >
              <div class="bg-mono-black mb-6 flex h-12 w-12 items-center justify-center rounded-full text-xl font-bold text-white">
                {index + 1}
              </div>
              <h3 class="text-mono-black mb-3 text-xl font-semibold">
                {step.title}
              </h3>
              <p class="text-mono-dark">{step.description}</p>
            </div>
            {index < howItWorksConfig.steps.length - 1 && (
              <div class="absolute top-1/2 -right-4 hidden -translate-y-1/2 transform lg:block">
                <Icon
                  name="heroicons:chevron-right"
                  class="text-mono-gray h-8 w-8"
                />
              </div>
            )}
          </div>
        ))
      }
    </div>
  </div>
</section>
